!function(A,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.textMaskCore=e():A.textMaskCore=e()}(this,function(){return function(A){function e(d){if(f[d])return f[d].exports;var s=f[d]={exports:{},id:d,loaded:!1};return A[d].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var f={};return e.m=A,e.c=f,e.p="",e(0)}([function(A,e,f){"use strict";function d(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(e,"__esModule",{value:!0});var s=f(3);Object.defineProperty(e,"conformToMask",{enumerable:!0,get:function(){return d(s).default}});var c=f(2);Object.defineProperty(e,"adjustCaretPosition",{enumerable:!0,get:function(){return d(c).default}});var E=f(5);Object.defineProperty(e,"createTextMaskInputElement",{enumerable:!0,get:function(){return d(E).default}})},function(A,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholderChar="_",e.strFunction="function"},function(A,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function f(c){var E=c.previousConformedValue,w=void 0===E?s:E,b=c.previousPlaceholder,n=void 0===b?s:b,m=c.currentCaretPosition,h=void 0===m?0:m,r=c.conformedValue,o=c.rawValue,a=c.placeholderChar,p=c.placeholder,Y=c.indexesOfPipedChars,T=void 0===Y?d:Y,z=c.caretTrapIndexes,S=void 0===z?d:z;if(0===h||!o.length)return 0;var l=w.length,k=p.length,g=r.length,V=o.length-l,u=V>0;if(V>1&&!u&&0!==l)return h;var v=0,L=void 0,M=void 0;if(!u||w!==r&&r!==p){var F=r.toLowerCase(),i=o.toLowerCase().substr(0,h).split(s).filter(function(P){return-1!==F.indexOf(P)});M=i[i.length-1];var U=n.substr(0,i.length).split(s).filter(function(P){return P!==a}).length,x=p.substr(0,i.length).split(s).filter(function(P){return P!==a}).length;!u&&(x!==U||void 0!==n[i.length-1]&&void 0!==p[i.length-2]&&n[i.length-1]!==a&&n[i.length-1]!==p[i.length-1]&&n[i.length-1]===p[i.length-2])&&U>0&&p.indexOf(M)>-1&&void 0!==o[h]&&(L=!0,M=o[h]);for(var K=T.map(function(P){return F[P]}).filter(function(P){return P===M}).length,Z=i.filter(function(P){return P===M}).length,Q=p.substr(0,p.indexOf(a)).split(s).filter(function(P,J){return P===M&&o[J]!==P}).length+Z+K+(L?1:0),$=0,_=0;_<g&&(v=_+1,F[_]===M&&$++,!($>=Q));_++);}else v=h-V;if(u){for(var O=v,C=v;C<=k;C++)if(p[C]===a&&(O=C),p[C]===a||-1!==S.indexOf(C)||C===k)return O}else if(L){for(var R=v-1;R>=0;R--)if(r[R]===M||-1!==S.indexOf(R)||0===R)return R}else for(var q=v;q>=0;q--)if(p[q-1]===a||-1!==S.indexOf(q)||0===q)return q};var d=[],s=""},function(A,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};e.default=function d(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,c.isArray)(m)){if((typeof m>"u"?"undefined":s(m))!==E.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");m=m(n,h),m=(0,c.processCaretTraps)(m).maskWithoutCaretTraps}var r=h.guide,o=void 0===r||r,a=h.previousConformedValue,p=void 0===a?b:a,Y=h.placeholderChar,T=void 0===Y?E.placeholderChar:Y,z=h.placeholder,S=void 0===z?(0,c.convertMaskToPlaceholder)(m,T):z,l=h.keepCharPositions,k=!1===o&&void 0!==p,g=n.length,V=p.length,u=S.length,H=m.length,N=g-V,W=N>0,v=h.currentCaretPosition+(W?-N:0),L=v+Math.abs(N);if(!0===l&&!W){for(var M=b,F=v;F<L;F++)S[F]===T&&(M+=T);n=n.slice(0,v)+M+n.slice(v,g)}for(var j=n.split(b).map(function(R,q){return{char:R,isNew:q>=v&&q<L}}),y=g-1;y>=0;y--){var i=j[y].char;i!==T&&i===S[y>=v&&V===H?y-N:y]&&j.splice(y,1)}var x=b,X=!1;e:for(var I=0;I<u;I++){var G=S[I];if(G===T){if(j.length>0)for(;j.length>0;){var K=j.shift(),Z=K.char,B=K.isNew;if(Z===T&&!0!==k){x+=T;continue e}if(m[I].test(Z)){if(!0===l&&!1!==B&&p!==b&&!1!==o&&W){for(var Q=j.length,$=null,_=0;_<Q;_++){var D=j[_];if(D.char!==T&&!1===D.isNew)break;if(D.char===T){$=_;break}}null!==$?(x+=Z,j.splice($,1)):I--}else x+=Z;continue e}X=!0}!1===k&&(x+=S.substr(I,u));break}x+=G}if(k&&!1===W){for(var O=null,C=0;C<x.length;C++)S[C]===T&&(O=C);x=null!==O?x.substr(0,O+1):b}return{conformedValue:x,meta:{someCharsRejected:X}}};var c=f(4),E=f(1),w=[],b=""},function(A,e,f){"use strict";function s(r){return Array.isArray&&Array.isArray(r)||r instanceof Array}Object.defineProperty(e,"__esModule",{value:!0}),e.convertMaskToPlaceholder=function d(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.placeholderChar;if(!s(r))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==r.indexOf(o))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(o)+"\n\nThe mask that was received is: "+JSON.stringify(r));return r.map(function(a){return a instanceof RegExp?o:a}).join("")},e.isArray=s,e.isString=function c(r){return"string"==typeof r||r instanceof String},e.isNumber=function E(r){return"number"==typeof r&&void 0===r.length&&!isNaN(r)},e.isNil=function w(r){return typeof r>"u"||null===r},e.processCaretTraps=function b(r){for(var o=[],a=void 0;-1!==(a=r.indexOf(h));)o.push(a),r.splice(a,1);return{maskWithoutCaretTraps:r,indexes:o}};var n=f(1),m=[],h="[]"},function(A,e,f){"use strict";function d(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var w=Object.assign||function(t){for(var l=1;l<arguments.length;l++){var k=arguments[l];for(var g in k)Object.prototype.hasOwnProperty.call(k,g)&&(t[g]=k[g])}return t},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function s(t){var l={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:l,update:function(k){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,V=g.inputElement,u=g.mask,H=g.guide,N=g.pipe,W=g.placeholderChar,v=void 0===W?a.placeholderChar:W,L=g.keepCharPositions,M=void 0!==L&&L,F=g.showMask,j=void 0!==F&&F;if(typeof k>"u"&&(k=V.value),k!==l.previousConformedValue){(typeof u>"u"?"undefined":b(u))===T&&void 0!==u.pipe&&void 0!==u.mask&&(N=u.pipe,u=u.mask);var y=void 0,i=void 0;if(u instanceof Array&&(y=(0,o.convertMaskToPlaceholder)(u,v)),!1!==u){var U=function E(t){if((0,o.isString)(t))return t;if((0,o.isNumber)(t))return String(t);if(null==t)return p;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(t))}(k),x=V.selectionEnd,X=l.previousConformedValue,I=l.previousPlaceholder,G=void 0;if((typeof u>"u"?"undefined":b(u))===a.strFunction){if(!1===(i=u(U,{currentCaretPosition:x,previousConformedValue:X,placeholderChar:v})))return;var K=(0,o.processCaretTraps)(i);G=K.indexes,y=(0,o.convertMaskToPlaceholder)(i=K.maskWithoutCaretTraps,v)}else i=u;var Q={previousConformedValue:X,guide:H,placeholderChar:v,pipe:N,placeholder:y,currentCaretPosition:x,keepCharPositions:M},_=(0,r.default)(U,i,Q).conformedValue,D=(typeof N>"u"?"undefined":b(N))===a.strFunction,O={};D&&(!1===(O=N(_,w({rawValue:U},Q)))?O={value:X,rejected:!0}:(0,o.isString)(O)&&(O={value:O}));var C=D?O.value:_,R=(0,m.default)({previousConformedValue:X,previousPlaceholder:I,conformedValue:C,placeholder:y,rawValue:U,currentCaretPosition:x,placeholderChar:v,indexesOfPipedChars:O.indexesOfPipedChars,caretTrapIndexes:G}),J=C===y&&0===R?j?y:p:C;l.previousConformedValue=J,l.previousPlaceholder=y,V.value!==J&&(V.value=J,function c(t,l){document.activeElement===t&&(z?S(function(){return t.setSelectionRange(l,l,Y)},0):t.setSelectionRange(l,l,Y))}(V,R))}}}}};var m=d(f(2)),r=d(f(3)),o=f(4),a=f(1),p="",Y="none",T="object",z=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),S=typeof requestAnimationFrame<"u"?requestAnimationFrame:setTimeout}])});